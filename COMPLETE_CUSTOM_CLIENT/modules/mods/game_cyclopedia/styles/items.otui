SaleList < UIWidget
  id: main
  size: 207 28

  Label
    id: valueLabel
    size: 207 14
    background-color: alpha
    anchors.top: parent.top
    anchors.left: parent.left
    text-offset: 1 -1
    font: Verdana Bold-11px
    color: #c0c0c0

  Label
    id: locationLabel
    size: 207 14
    background-color: alpha
    anchors.top: parent.top
    anchors.left: parent.left
    margin-top: 14
    text-offset: 1 -2
    font: Verdana Bold-11px
    color: #c0c0c0

ItemListLabel < UIWidget
  size: 36 36
  focusable: true

  UIWidget
    size: 34 34
    image-source: /images/ui/item
    anchors.top: parent.top
    anchors.left: parent.left
    margin-left: 1
    anchors.verticalCenter: parent.verticalCenter

  UIItem
    size: 32 32
    id: item
    virtual: true
    priceable: true
    draggable: false
    anchors.top: parent.top
    anchors.left: parent.left
    anchors.verticalCenter: parent.verticalCenter
    margin-left: 2

  Label
    id: name
    size: 145 34
    !text: tr("Unknow")
    font: Verdana Bold-11px
    color: #c0c0c0
    text-wrap: true
    text-auto-reduce: true
    text-align: left
    anchors.top: parent.top
    anchors.left: prev.right
    anchors.verticalCenter: parent.verticalCenter
    margin-left: 5

CategoryItemListLabel < Label
  font: Verdana Bold-11px
  height: 16
  background-color: alpha
  text-offset: 1 -1
  focusable: true
  color: #c0c0c0

ItemDataPanel < UIWidget
  size: 670 450
  anchors.fill: parent
  focusable: true

  UIWidget
    id: leftInfo
    anchors.top: parent.top
    anchors.left: parent.left
    size: 210 450
    focusable: true

    UIWidget
      id: categoriesLabel
      image-source: /mods/game_cyclopedia/images/ui/names/name-categories
      anchors.top: parent.top
      anchors.left: parent.left
      margin-top: 3
      margin-left: 1
      focusable: false
      phantom: false
      visible: true

    TextList
      id: categoriesList
      size: 200 60
      margin-top: 6
      anchors.top: categoriesLabel.bottom
      anchors.left: parent.left
      focusable: true
      color: #c0c0c0
      vertical-scrollbar: categoriesListScrollBar
      @onSetup: |
        g_keyboard.bindKeyPress('Up', function() self:focusPreviousChild(KeyboardFocusReason) self:ensureChildVisible(self:getFocusedChild()) end, self)
        g_keyboard.bindKeyPress('Down', function() self:focusNextChild(KeyboardFocusReason) self:ensureChildVisible(self:getFocusedChild()) end, self)

    VerticalScrollBar
      id: categoriesListScrollBar
      anchors.top: categoriesLabel.bottom
      anchors.left: parent.left
      height: 58
      margin-top: 7
      margin-left: 187
      step: 14
      pixels-scroll: true

    Button
      id: levelButton
      size: 47 20
      anchors.top: categoriesList.bottom
      anchors.left: parent.left
      !text: tr('Level')
      margin-top: 31
      font: cipsoftFont
      @onClick: modules.game_cyclopedia.CyclopediaItems.onSortFields(self, self:isChecked())

    Button
      id: vocButton
      size: 47 20
      anchors.top: levelButton.top
      anchors.left: prev.right
      !text: tr('Voc.')
      margin-left: 6
      font: cipsoftFont
      @onClick: modules.game_cyclopedia.CyclopediaItems.onSortFields(self, self:isChecked())

    Button
      id: oneHandButton
      size: 46 20
      anchors.top: levelButton.top
      anchors.left: prev.right
      !text: tr('1H')
      margin-left: 6
      font: cipsoftFont
      enabled: false
      @onClick: modules.game_cyclopedia.CyclopediaItems.onSortFields(self, self:isChecked())

    Button
      id: twoHandButton
      size: 46 20
      anchors.top: levelButton.top
      anchors.left: prev.right
      !text: tr('2H')
      margin-left: 6
      font: cipsoftFont
      enabled: false
      @onClick: modules.game_cyclopedia.CyclopediaItems.onSortFields(self, self:isChecked())

    ComboBox
      id: classOptions
      anchors.left: parent.left
      anchors.top: prev.bottom
      margin-top: 6
      font: Verdana Bold-11px
      color: #c0c0c0
      text-offset: -20 2
      size: 77 20
      @onOptionChange: modules.game_cyclopedia.CyclopediaItems.onSortFields(self, self.currentIndex)

    UIWidget
      id: itemsLabel
      image-source: /mods/game_cyclopedia/images/ui/names/name-items
      anchors.top: prev.bottom
      anchors.left: parent.left
      margin-top: 9
      margin-left: 1
      focusable: false
      phantom: false
      visible: true

    ScrollablePanel
      id: itemList
      background-color: #414141
      size: 200 135
      margin-top: 8
      anchors.top: prev.bottom
      anchors.left: parent.left
      vertical-scrollbar: itemListScrollBar
      padding: 1
      border-width: 1
      border-color-bottom: #747575
      border-color-right: #747575
      border-color-top: #141414
      @onSetup: |
        g_keyboard.bindKeyPress('Up', function() self:focusPreviousChild(KeyboardFocusReason) self:ensureChildVisible(self:getFocusedChild()) end, self)
        g_keyboard.bindKeyPress('Down', function() self:focusNextChild(KeyboardFocusReason) self:ensureChildVisible(self:getFocusedChild()) end, self)
      layout:
        type: verticalBox
        align-top: true

    VerticalScrollBar
      id: itemListScrollBar
      anchors.top: itemsLabel.bottom
      anchors.right: parent.right
      height: 133
      margin-right: 11
      margin-top: 9
      step: 28
      pixels-scroll: true

    FlatPanel
      id: imageWidget
      size: 34 34
      image-source: /images/ui/item
      anchors.top: prev.bottom
      anchors.left: parent.left
      margin-top: 7
      UIItem
        id: itemImage
        size: 32 32
        anchors.verticalCenter: parent.verticalCenter
        anchors.horizontalCenter: parent.horizontalCenter
        virtual: true
        priceable: true

    UIWidget
      id: searchLabel
      image-source: /mods/game_cyclopedia/images/ui/names/name-search
      anchors.top: prev.top
      anchors.left: prev.right
      margin-top: 2
      margin-left: 7
      focusable: false
      phantom: false
      visible: true

    TextEdit
      id: searchText
      size: 161 16
      anchors.top: prev.bottom
      anchors.left: prev.left
      margin-left: -1
      margin-top: 8
      focusable: true
      !placeholder: tr('Type to search...')
      box-text-padding: 20
      @onTextChange: modules.game_cyclopedia.CyclopediaItems.onSearch(self)

      Button
        id: clearSearchButton
        anchors.top: parent.top
        anchors.right: parent.right
        margin-top: 1
        margin-right: 1
        size: 14 14
        image-source: /images/store/button-erase-small-up-2
        image-clip: 0 0 14 14
        tooltip: Clear all text from the search field.
        @onClick: modules.game_cyclopedia.CyclopediaItems.clearSearch(self:getParent())
        $pressed:
          image-source: /images/store/button-erase-small-down-2
          image-clip: 0 0 14 14

    UIWidget
      id: header
      anchors.top: parent.top
      anchors.left: parent.left
      margin-left: 19
      margin-top: 359
      visible: false
      font: $var-cip-font
      color: $var-text-cip-color
      text: Loot Value Source:

    CheckBox
      id: circlenpc
      anchors.top: parent.top
      anchors.left: parent.left
      margin-top: 378
      margin-left: 20
      size: 107 12
      text-align: left
      text-offset: 18 -2
      color: #dfdfdf
      image-color: #dfdfdfff
      image-rect: 0 0 12 12
      image-source: /mods/game_cyclopedia/images/ui/checkboxcircle
      visible: false
      change-cursor-image: false
      @onClick: modules.game_cyclopedia.CyclopediaItems.onSourceValueChange(self:isChecked(), true)

      $hover !disabled:
        color: #ffffff

      $!checked:
        image-clip: 0 0 12 12

      $checked:
        image-clip: 0 12 12 12

      $hover checked:
        image-clip: 0 12 12 12

      $disabled:
        image-color: #dfdfdf88
        color: #dfdfdf88
        opacity: 0.8

      UIWidget
        image-source: /mods/game_cyclopedia/images/ui/names/npc-value
        anchors.top: parent.top
        anchors.left: parent.left
        margin-top: 2
        margin-left: 17
        @onClick: modules.game_cyclopedia.CyclopediaItems.onSourceValueChange(self:getParent():isChecked(), true)

    CheckBox
      id: circlemarket
      anchors.top: parent.top
      anchors.left: parent.left
      margin-top: 396
      margin-left: 20
      size: 158 12
      text-align: left
      text-offset: 18 -2
      color: #dfdfdf
      image-color: #dfdfdfff
      image-rect: 0 0 12 12
      image-source: /mods/game_cyclopedia/images/ui/checkboxcircle
      visible: false
      change-cursor-image: false
      @onClick: modules.game_cyclopedia.CyclopediaItems.onSourceValueChange(self:isChecked(), false)

      $hover !disabled:
        color: #ffffff

      $!checked:
        image-clip: 0 0 12 12

      $checked:
        image-clip: 0 12 12 12

      $hover checked:
        image-clip: 0 12 12 12

      $disabled:
        image-color: #dfdfdf88
        color: #dfdfdf88
        opacity: 0.8

      UIWidget
        image-source: /mods/game_cyclopedia/images/ui/names/market-value
        anchors.top: parent.top
        anchors.left: parent.left
        margin-top: 2
        margin-left: 17
        focusable: true
        phantom: false
        @onClick: modules.game_cyclopedia.CyclopediaItems.onSourceValueChange(self:getParent():isChecked(), false)


  VerticalSeparator
    id: separator
    size: 2 420
    anchors.top: parent.top
    anchors.bottom: parent.bottom
    anchors.left: prev.right
    margin-bottom: 44
    margin-left: 1











//end

  UILabel
    id: emptyLabel
    size: 333 10
    !text: tr('Please select an item from the list to see its details here.')
    anchors.top: parent.top
    anchors.left: parent.left
    color: #c0c0c0
    font: Verdana Bold-11px
    text-auto-resize: true
    margin-left: 221
    margin-top: -1

  UIWidget
    id: panelitemshide
    size: 468 425
    background-color: alpha
    anchors.top: parent.top
    anchors.left: parent.left
    margin-left: 212
    margin-top: -5
    visible: false

    TextList
      id: basicDetails
      image-source: /images/ui/textedit
      anchors.top: parent.top
      anchors.left: parent.left
      size: 446 150
      focusable: false
      vertical-scrollbar: basic-item-details-scroll
      auto-focus: first
      margin-top: 23
      margin-left: 10
      visible: true

    VerticalScrollBar
      id: basic-item-details-scroll
      anchors.top: basicDetails.top
      anchors.bottom: basicDetails.bottom
      anchors.right: basicDetails.right
      step: 14
      margin-top: 1
      margin-right: 1
      margin-bottom: 1
      pixels-scroll: true
      visible: true

    TextList
      id: sellToList
      anchors.top: parent.top
      anchors.left: parent.left
      size: 221 100
      focusable: false
      vertical-scrollbar: sellToListScroll
      auto-focus: first
      margin-top: 211
      margin-left: 10
      visible: true

    VerticalScrollBar
      id: sellToListScroll
      anchors.top: sellToList.top
      anchors.bottom: sellToList.bottom
      anchors.right: sellToList.right
      step: 14
      margin-top: 1
      margin-right: 1
      margin-bottom: 1
      pixels-scroll: true
      visible: true

    TextList
      id: buyFromList
      anchors.top: sellToList.top
      anchors.left: sellToList.right
      size: 220 100
      focusable: false
      vertical-scrollbar: buyFromListScroll
      auto-focus: first
      margin-left: 6
      visible: true

    VerticalScrollBar
      id: buyFromListScroll
      anchors.top: buyFromList.top
      anchors.bottom: buyFromList.bottom
      anchors.right: buyFromList.right
      step: 14
      margin-top: 1
      margin-right: 1
      margin-bottom: 1
      pixels-scroll: true
      visible: true

    UIWidget
      id: text-gold-box-one
      size: 104 20
      anchors.top: parent.top
      anchors.left: parent.left
      image-source: /mods/game_cyclopedia/images/ui/text-slot
      image-clip: 0 0 28 20
      image-border: 1
      border-width-right: 1
      border-color-right: #797979
      margin-top: 331
      margin-left: 352
      visible: true

    UIWidget
      id: text-gold-box-one-gold
      anchors.top: text-gold-box-one.top
      anchors.right: text-gold-box-one.right
      anchors.verticalCenter: text-gold-box-one.verticalCenter
      image-source: /mods/game_cyclopedia/images/ui/gold
      margin-top: 1
      margin-right: 3
      visible: true

    Label
      id: averageMarketPrice
      !text: tr('0')
      text-auto-resize: true
      font: Verdana Bold-11px
      color: #c0c0c0
      anchors.top: text-gold-box-one-gold.top
      anchors.right: text-gold-box-one-gold.left
      anchors.verticalCenter: text-gold-box-one-gold.verticalCenter
      margin-top: -1
      margin-right: 2
      visible: true

    UIWidget
      id: text-gold-box-two
      size: 104 20
      anchors.top: parent.top
      anchors.left: parent.left
      image-source: /mods/game_cyclopedia/images/ui/text-slot
      image-clip: 0 20 28 20
      image-border: 1
      border-width-right: 1
      border-color-right: #797979
      margin-top: 351
      margin-left: 352
      visible: true

    TextEdit
      size: 104 20
      id: customPrice
      font: Verdana Bold-11px
      anchors.centerIn: text-gold-box-two
      visible: true
      padding-right: 3
      text-align: right
      !placeholder: tr('Type to set')
      max-length: 9
      @onTextChange: modules.game_cyclopedia.CyclopediaItems.onChangeCustomPrice(self)

    UIWidget
      id: text-gold-box-three
      size: 104 20
      anchors.top: parent.top
      anchors.left: parent.left
      image-source: /mods/game_cyclopedia/images/ui/text-slot
      image-clip: 0 0 28 20
      image-border: 1
      border-width-right: 1
      border-color-right: #797979
      margin-top: 371
      margin-left: 352
      visible: true

    UIWidget
      id: itemColor
      size: 102 18
      anchors.centerIn: text-gold-box-three
      image-source: /mods/game_cyclopedia/images/ui/itemcolor/item-gold
      visible: true

    UIWidget
      id: text-gold-box-three-gold
      anchors.top: text-gold-box-three.top
      anchors.right: text-gold-box-three.right
      anchors.verticalCenter: text-gold-box-three.verticalCenter
      image-source: /mods/game_cyclopedia/images/ui/gold
      margin-top: 1
      margin-right: 3
      visible: true

    Label
      id: resultingValue
      !text: tr('0')
      text-auto-resize: true
      font: Verdana Bold-11px
      color: #c0c0c0
      anchors.top: text-gold-box-three-gold.top
      anchors.right: text-gold-box-three-gold.left
      anchors.verticalCenter: text-gold-box-three-gold.verticalCenter
      margin-top: -1
      margin-right: 2
      visible: true

    UIWidget
      id: name-basic-item
      image-source: /mods/game_cyclopedia/images/ui/names/basicitem
      anchors.top: parent.top
      anchors.left: parent.left
      margin-top: 7
      margin-left: 11
      focusable: false
      phantom: false
      visible: true

    UIWidget
      id: name-sell-to
      image-source: /mods/game_cyclopedia/images/ui/names/sellto
      anchors.top: parent.top
      anchors.left: parent.left
      margin-top: 195
      margin-left: 11
      focusable: false
      phantom: false
      visible: true

    UIWidget
      id: name-buy-from
      image-source: /mods/game_cyclopedia/images/ui/names/buyfrom
      anchors.top: name-sell-to.top
      anchors.left: name-sell-to.right
      margin-top: 1
      margin-left: 181
      focusable: false
      phantom: false
      visible: true

    UIWidget
      id: name-average-pref
      image-source: /mods/game_cyclopedia/images/ui/names/averagepreferresulting
      anchors.top: parent.top
      anchors.left: parent.left
      margin-top: 337
      margin-left: 11
      focusable: false
      phantom: false
      visible: true

    CheckBox
      id: checkbox-track-drops
      anchors.top: parent.top
      anchors.left: parent.left
      margin-top: 412
      margin-left: 10
      size: 12 12
      text-align: left
      text-offset: 18 -2
      color: #dfdfdf
      image-color: #dfdfdfff
      image-rect: 0 0 12 12
      image-source: /mods/game_cyclopedia/images/ui/checkbox
      visible: true
      @onClick: modules.game_cyclopedia.CyclopediaItems.updateDropTracker(self, self:isChecked())

      $hover !disabled:
        color: #ffffff

      $!checked:
        image-clip: 0 0 12 12

      $checked:
        image-clip: 0 12 12 12

      $hover checked:
        image-clip: 0 12 12 12

      $disabled:
        image-color: #dfdfdf88
        color: #dfdfdf88
        opacity: 0.8
        change-cursor-image: false

    UIWidget
      id: name-track-drops
      image-source: /mods/game_cyclopedia/images/ui/names/trackdrops
      anchors.top: parent.top
      anchors.left: parent.left
      margin-top: 413
      margin-left: 26
      focusable: false
      phantom: false
      visible: true
      @onClick: |
        local widget = self:getParent():recursiveGetChildById('checkbox-track-drops')
        modules.game_cyclopedia.CyclopediaItems.updateDropTracker(widget, widget:isChecked())

    CheckBox
      id: checkLootbox
      anchors.top: checkbox-track-drops.top
      anchors.left: checkbox-track-drops.right
      margin-left: 261
      size: 12 12
      text-align: left
      text-offset: 18 -2
      color: #dfdfdf
      image-color: #dfdfdfff
      image-rect: 0 0 12 12
      image-source: /mods/game_cyclopedia/images/ui/checkbox
      visible: true
      @onClick: modules.game_cyclopedia.CyclopediaItems.manageQuickloot(self, self:isChecked())

      $hover !disabled:
        color: #ffffff

      $!checked:
        image-clip: 0 0 12 12

      $checked:
        image-clip: 0 12 12 12

      $hover checked:
        image-clip: 0 12 12 12

      $disabled:
        image-color: #dfdfdf88
        color: #dfdfdf88
        opacity: 0.8
        change-cursor-image: false

    UIWidget
      id: lootBox
      image-source: /mods/game_cyclopedia/images/ui/names/skipwhen
      anchors.top: parent.top
      anchors.left: parent.left
      margin-top: 413
      margin-left: 299
      focusable: false
      phantom: false
      visible: true
      @onClick: |
        local widget = self:getParent():recursiveGetChildById('checkLootbox')
        modules.game_cyclopedia.CyclopediaItems.manageQuickloot(widget, widget:isChecked())

    CheckBox
      id: quickListbox
      anchors.bottom: checkLootbox.top
      anchors.left: checkLootbox.left
      margin-bottom: 5
      size: 12 12
      text-align: left
      text-offset: 18 -2
      color: #dfdfdf
      image-color: #dfdfdfff
      image-rect: 0 0 12 12
      image-source: /mods/game_cyclopedia/images/ui/checkbox
      visible: true
      @onClick: modules.game_cyclopedia.CyclopediaItems.manageQuickSellWhitelist(self, self:isChecked())

      $hover !disabled:
        color: #ffffff

      $!checked:
        image-clip: 0 0 12 12

      $checked:
        image-clip: 0 12 12 12

      $hover checked:
        image-clip: 0 12 12 12

      $disabled:
        image-color: #dfdfdf88
        color: #dfdfdf88
        opacity: 0.8
        change-cursor-image: false

    Label
      id: quickListLabel
      !text: tr('Skip when Quick Selling')
      font: $var-cip-font
      color: $var-text-cip-color
      anchors.top: prev.top
      anchors.left: prev.right
      margin-top: -2
      margin-left: 5
      focusable: false
      phantom: false
      visible: true
      @onClick: |
        local widget = self:getParent():recursiveGetChildById('quickListbox')
        modules.game_cyclopedia.CyclopediaItems.manageQuickSellWhitelist(widget, widget:isChecked())

  Button
    id: manageContainer
    size: 128 20
    anchors.top: parent.bottom
    anchors.left: parent.left
    !text: tr('Manage Containers')
    margin-top: -31
    font: cipsoftFont
    text-color: #c0c0c0
    enabled: true
    @onClick: modules.game_cyclopedia.CyclopediaItems.onClickLootContainers()
